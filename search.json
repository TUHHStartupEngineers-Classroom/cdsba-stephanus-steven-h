[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "My Lab Journal",
    "section": "",
    "text": "This is a template example for lab journaling. Students in the data science courses at the Institute of Entrepreneurship will use this template to learn R for business analytics. Students can replace this text as they wish."
  },
  {
    "objectID": "index.html#how-to-use",
    "href": "index.html#how-to-use",
    "title": "My Lab Journal",
    "section": "How to use",
    "text": "How to use\n\nAccept the assignment and get your own github repo.\nBlog/journal what you are doing in R, by editing the .qmd files.\nSee the links page for lots of helpful links on learning R.\nChange everything to make it your own.\nMake sure to render you website every time before you want to upload changes."
  },
  {
    "objectID": "content/01_journal/02_statistics.html",
    "href": "content/01_journal/02_statistics.html",
    "title": "Statistical Concepts",
    "section": "",
    "text": "random_vars &lt;- readRDS(“E:/Master Study/TUHH/Wise 23-24/Causal Data Science for Business Analytics/Causal_Data_Science_Data/random_vars.rds”)\nrandom_vars\n\n1 Expected value, age\nexpected_age &lt;- mean(random_vars$age) expected_age\n\n\n2 Expected value, income\nexpected_income &lt;- mean(random_vars$income) expected_income\n#variance, age variance_age &lt;- var(random_vars$age) variance_age\n#variance, income variance_income &lt;- var(random_vars$income) variance_income\n#std dev, age sd_age &lt;- sd(random_vars$age) sd_age\n#std dev, income sd_income &lt;- sd(random_vars$income) sd_income\n\n\n3 Explain, if it makes sense to compare the standard deviations.\n#Then, examine the relationship between both variables and compute covariance &lt;- cov(random_vars\\(age, random_vars\\)income) covariance correlation &lt;- cor(random_vars\\(age, random_vars\\)income) correlation\n#Compute the conditional expected value for # Calculate mean for age &lt;= 18 mean_age_under_18 &lt;- mean(random_vars\\(age[random_vars\\)age &lt;= 18]) mean_age_between_1865 &lt;- mean(random_vars\\(age[random_vars\\)age &gt;= 18 & random_vars\\(age &lt;= 65]) mean_age_above_65 &lt;- mean(random_vars\\)age[random_vars$age &gt;= 65])\n\n\n4 Print the result\ncat(“Mean age for age &lt;= 18:”, mean_age_under_18) cat(“Mean age for 18&lt;age&lt;65:”, mean_age_between_1865) cat(“Mean age for age &gt;= 65:”, mean_age_above_65) :::"
  },
  {
    "objectID": "content/01_journal/04_causality.html",
    "href": "content/01_journal/04_causality.html",
    "title": "Causality",
    "section": "",
    "text": "Note\n\n\n\nYou can delete everything in here and start fresh."
  },
  {
    "objectID": "content/01_journal/09_iv.html",
    "href": "content/01_journal/09_iv.html",
    "title": "Instrumental Variables",
    "section": "",
    "text": "#load Library install.packages(CAR) library(car)\n\n1 Load the data\nrand_enc &lt;- readRDS(‘E:/Master Study/TUHH/Wise 23-24/Causal Data Science for Business Analytics/Causal_Data_Science_Data/rand_enc.rds’)\n\n\n2 Compute the naive estimate\nnaive_estimate &lt;- lm(time_spent ~ rand_enc + used_ftr, data = rand_enc) summary(naive_estimate)\n\n\n3 Check assumptions using correlations or plots\ncor(rand_enc\\(time_spent, rand_enc\\)rand_enc) cor(rand_enc\\(used_ftr, rand_enc\\)rand_enc) cor(rand_enc\\(time_spent, rand_enc\\)used_ftr)\nplot(rand_enc\\(time_spent ~ rand_enc\\)rand_enc) plot(rand_enc\\(time_spent ~ rand_enc\\)used_ftr) plot(rand_enc\\(used_ftr ~ rand_enc\\)rand_enc)\n\n\n4 Instrumental Variable Estimation (2SLS)\niv_estimate &lt;- ivreg(time_spent ~ used_ftr | rand_enc ~ instrument, data = rand_enc) summary(iv_estimate)\n\n\n5 Compare naive and IV estimates\nsummary(naive_estimate) summary(iv_estimate)"
  },
  {
    "objectID": "content/01_journal/07_matching.html",
    "href": "content/01_journal/07_matching.html",
    "title": "Matching and Subclassification",
    "section": "",
    "text": "library(Matching) library(ggplot2) library(MatchIt) library(dplyr) library(MASS)"
  },
  {
    "objectID": "content/01_journal/05_dag.html",
    "href": "content/01_journal/05_dag.html",
    "title": "Directed Acyclic Graphs",
    "section": "",
    "text": "1 Load required libraries\nlibrary(ggplot2) library(dplyr) library(tidyverse)\n\n\n2 Load the data\ncustomer_sat &lt;- readRDS(“E:/Master Study/TUHH/Wise 23-24/Causal Data Science for Business Analytics/Causal_Data_Science_Data/customer_sat.rds”)\ncustomer_sat\n\n\n3 Step 1: Regress satisfaction on follow_ups\nmodel1 &lt;- lm(satisfaction ~ follow_ups, data = customer_sat) summary(model1)\n\n\n4 Step 2: Regress satisfaction on follow_ups and account for subscription\nmodel2 &lt;- lm(satisfaction ~ follow_ups + subscription, data = customer_sat) summary(model2)\n\n\n5 Compare coefficients\ncoef_comparison &lt;- data.frame( FollowUps_Only = coef(model1)[2], FollowUps_Subscription = coef(model2)[2], Subscription_Premium = coef(model2)[3], Subscription_Elite = coef(model2)[4] ) print(coef_comparison)\n\n\n6 Plot the data\nggplot(customer_sat, aes(x = follow_ups, y = satisfaction, color = subscription)) + geom_point() + geom_smooth(method = “lm”, se = FALSE) + labs(title = “Relationship between Follow-up Calls and Satisfaction”, x = “Follow-up Calls”, y = “Satisfaction”, color = “Subscription Level”)"
  },
  {
    "objectID": "content/01_journal/06_rct.html",
    "href": "content/01_journal/06_rct.html",
    "title": "Randomized Controlled Trials",
    "section": "",
    "text": "1 Load required libraries\nlibrary(ggplot2) library(dplyr)\n\n\n2 Load the data\nabtest_online &lt;- readRDS(“E:/Master Study/TUHH/Wise 23-24/Causal Data Science for Business Analytics/Causal_Data_Science_Data/abtest_online.rds”)\n\n\n3 Step 1: Check covariate balance across groups and plot\ncovariate_balance_plot &lt;- ggplot(abtest_online, aes(x = purchase_amount, color = as.factor(chatbot))) + geom_density() + labs(title = “Covariate Balance Check”, x = “Purchase Amount”, color = “Chatbot Group”)\nprint(covariate_balance_plot)\n\n\n4 Step 2: Run regression to find the effect of chatbot on sales\nsales_regression &lt;- lm(purchase_amount ~ chatbot + mobile_device + previous_visit, data = abtest_online) summary(sales_regression)\n\n\n5 Step 3: Find subgroup-specific effects with interaction (exemplary group: mobile users)\ninteraction_model &lt;- lm(purchase_amount ~ chatbot * mobile_device + previous_visit, data = abtest_online) summary(interaction_model)\n\n\n6 Step 4: Logistic regression for binary outcome (purchase)\nlogistic_regression &lt;- glm(purchase ~ chatbot + mobile_device + previous_visit, data = abtest_online, family = “binomial”) summary(logistic_regression)"
  },
  {
    "objectID": "content/01_journal/08_did.html",
    "href": "content/01_journal/08_did.html",
    "title": "Difference-in-Differences",
    "section": "",
    "text": "1 Load required libraries\nlibrary(dplyr) library(readr)\n\n\n2 Load the data\nhospdd &lt;- readRDS(“E:/Master Study/TUHH/Wise 23-24/Causal Data Science for Business Analytics/Causal_Data_Science_Data/hospdd.rds”) hospdd\n\n\n3 Check the structure of the data\nstr(hospdd)\n\n\n4 Convert time variables to factors\nhospdd\\(month &lt;- as.factor(hospdd\\)month) hospdd\\(hospital &lt;- as.factor(hospdd\\)hospital) satisfaction &lt;- hospdd$satis # Manually compute the mean satisfaction for treated and control hospitals before and after the treatment mean_satisfaction &lt;- hospdd %&gt;% group_by(frequency, month) %&gt;% summarise(mean_satisfaction = mean(satisfaction))\n\n\n5 Display the manual computation\nprint(“Manual Computation:”) print(mean_satisfaction)\n\n\n6 Perform difference-in-differences analysis using linear regression\n\n\n7 Include group and time fixed effects\n\n\n8 Option 1: Include as.factor(month) + as.factor(hospital)\nmodel1 &lt;- lm(satisfaction ~ frequency * month + as.factor(month) + as.factor(hospital), data = hospdd)\n\n\n9 Option 2: Include month + hospital\nmodel2 &lt;- lm(satisfaction ~ frequency * month + month + hospital, data = hospdd)\n\n\n10 Display the regression results\nprint(“Linear Regression Results (Option 1):”) summary(model1)\nprint(“Linear Regression Results (Option 2):”) summary(model2)"
  },
  {
    "objectID": "content/01_journal/01_probability.html",
    "href": "content/01_journal/01_probability.html",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "",
    "text": "P_S &lt;- 0.3 P_not_S &lt;- 0.7\nP_T_given_S &lt;- 0.2 P_not_T_given_S &lt;- 0.8\nP_T_given_not_S &lt;- 0.6 P_not_T_given_not_S &lt;- 0.4\n\n\n\nP_T_and_S &lt;- P_S * P_T_given_S P_T_and_not_S &lt;- P_not_S * P_T_given_not_S P_not_T_and_S &lt;- P_S * P_not_T_given_S P_not_T_and_not_S &lt;- P_not_S * P_not_T_given_not_S\n\n\n\nsum_of_probabilities &lt;- P_T_and_S + P_T_and_not_S + P_not_T_and_S + P_not_T_and_not_S\n\n\n\ncat(“P(T ∩ S):”, P_T_and_S, “”) cat(“P(T ∩ ~S):”, P_T_and_not_S, “”) cat(“P(~T ∩ S):”, P_not_T_and_S, “”) cat(“P(~T ∩ ~S):”, P_not_T_and_not_S, “”) cat(“Sum of all four probabilities:”, sum_of_probabilities, “”)"
  },
  {
    "objectID": "content/01_journal/01_probability.html#header-2",
    "href": "content/01_journal/01_probability.html#header-2",
    "title": "Probability Theory",
    "section": "6.1 Header 2",
    "text": "6.1 Header 2\n\nHeader 3\n\nHeader 4\n\nHeader 5\n\nHeader 6"
  },
  {
    "objectID": "content/01_journal/03_regression.html",
    "href": "content/01_journal/03_regression.html",
    "title": "Regression and Statistical Inference",
    "section": "",
    "text": "1 Install and Load Libraries\ninstall.packages(“tidyverse”) install.packages(“dplyr”)\nlibrary(dplyr) library(tidyverse)\n\n\n2 Load the Data\ncar_prices &lt;- readRDS(“E:/Master Study/TUHH/Wise 23-24/Causal Data Science for Business Analytics/Causal_Data_Science_Data/car_prices.rds”)\n\n\n3 Analytics\ncar_prices dim(car_prices)\nhead (car_prices)\nsummary(car_prices)\n\n\n4 Include all potential regressors\nlm_all &lt;- lm(price ~ ., data = car_prices) summary(lm_all)\n#signifance &lt;0.05 #choose one regressor : perubahan sekian unit (liat intercept) sbg coefficient/ slope to prices #peak rpm is a significant regressor, p &lt; 0.0001\ncar_prices &lt;- car_prices %&gt;% mutate(seat_heating = TRUE)\nlm_all &lt;- lm(price ~ ., data = car_prices) summary(lm_all)\nlm_seatheating &lt;- lm(price ~ seat_heating, data = car_prices) summary(lm_seatheating)"
  },
  {
    "objectID": "content/01_journal/10_rdd.html",
    "href": "content/01_journal/10_rdd.html",
    "title": "Regression Discontinuity",
    "section": "",
    "text": "Note\n\n\n\nYou can delete everything in here and start fresh."
  },
  {
    "objectID": "content/01_journal/01_probability.html#compute-probabilities",
    "href": "content/01_journal/01_probability.html#compute-probabilities",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "",
    "text": "P_T_and_S &lt;- P_S * P_T_given_S P_T_and_not_S &lt;- P_not_S * P_T_given_not_S P_not_T_and_S &lt;- P_S * P_not_T_given_S P_not_T_and_not_S &lt;- P_not_S * P_not_T_given_not_S"
  },
  {
    "objectID": "content/01_journal/01_probability.html#sum-of-all-four-probabilities",
    "href": "content/01_journal/01_probability.html#sum-of-all-four-probabilities",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "",
    "text": "sum_of_probabilities &lt;- P_T_and_S + P_T_and_not_S + P_not_T_and_S + P_not_T_and_not_S"
  },
  {
    "objectID": "content/01_journal/01_probability.html#print-the-results",
    "href": "content/01_journal/01_probability.html#print-the-results",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "",
    "text": "cat(“P(T ∩ S):”, P_T_and_S, “”) cat(“P(T ∩ ~S):”, P_T_and_not_S, “”) cat(“P(~T ∩ S):”, P_not_T_and_S, “”) cat(“P(~T ∩ ~S):”, P_not_T_and_not_S, “”) cat(“Sum of all four probabilities:”, sum_of_probabilities, “”)"
  },
  {
    "objectID": "content/01_journal/01_probability.html#given-probabilities",
    "href": "content/01_journal/01_probability.html#given-probabilities",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "",
    "text": "P_S &lt;- 0.3 P_not_S &lt;- 0.7\nP_T_given_S &lt;- 0.2 P_not_T_given_S &lt;- 0.8\nP_T_given_not_S &lt;- 0.6 P_not_T_given_not_S &lt;- 0.4"
  },
  {
    "objectID": "content/01_journal/01_probability.html#from-diagram-venn",
    "href": "content/01_journal/01_probability.html#from-diagram-venn",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "2.1 From Diagram Venn",
    "text": "2.1 From Diagram Venn\nlibrary(knitr) image_url &lt;- “https://owmork.github.io/causal_ds/content/fundamentals/01_a_prob_files/figure-html/unnamed-chunk-5-1.png” include_graphics(image_url)"
  },
  {
    "objectID": "content/01_journal/01_probability.html#replace-the-url-with-the-actual-url-of-the-image",
    "href": "content/01_journal/01_probability.html#replace-the-url-with-the-actual-url-of-the-image",
    "title": "1 Assignment 1",
    "section": "2.2 Replace the URL with the actual URL of the image",
    "text": "2.2 Replace the URL with the actual URL of the image\nimage_url &lt;- “https://owmork.github.io/causal_ds/content/fundamentals/01_a_prob_files/figure-html/unnamed-chunk-5-1.png”"
  },
  {
    "objectID": "content/01_journal/01_probability.html#include-the-image-using-knitrinclude_graphics",
    "href": "content/01_journal/01_probability.html#include-the-image-using-knitrinclude_graphics",
    "title": "1 Assignment 1",
    "section": "2.3 Include the image using knitr::include_graphics",
    "text": "2.3 Include the image using knitr::include_graphics\ninclude_graphics(image_url)"
  },
  {
    "objectID": "content/01_journal/01_probability.html#given-data",
    "href": "content/01_journal/01_probability.html#given-data",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "2.2 Given data",
    "text": "2.2 Given data\nall_three_devices &lt;- 5 at_least_two_devices &lt;- 73+33+88 only_one_device &lt;- 278+423+100"
  },
  {
    "objectID": "content/01_journal/01_probability.html#calculate-percentages",
    "href": "content/01_journal/01_probability.html#calculate-percentages",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "2.4 Calculate percentages",
    "text": "2.4 Calculate percentages\npercentage_all_three_devices &lt;- (all_three_devices / total_customers) * 100 percentage_at_least_two_devices &lt;- (at_least_two_devices / total_customers) * 100 percentage_only_one_device &lt;- (only_one_device / total_customers) * 100"
  },
  {
    "objectID": "content/01_journal/01_probability.html#print-the-results-1",
    "href": "content/01_journal/01_probability.html#print-the-results-1",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "2.5 Print the results",
    "text": "2.5 Print the results\ncat(“Percentage of customers using all three devices:”, percentage_all_three_devices, “%”) cat(“Percentage of customers using at least two devices:”, percentage_at_least_two_devices, “%”) cat(“Percentage of customers using only one device:”, percentage_only_one_device, “%”)"
  },
  {
    "objectID": "content/01_journal/01_probability.html#total-number-of-customers",
    "href": "content/01_journal/01_probability.html#total-number-of-customers",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "2.3 Total number of customers",
    "text": "2.3 Total number of customers\ntotal_customers &lt;- all_three_devices + at_least_two_devices + only_one_device"
  },
  {
    "objectID": "content/01_journal/01_probability.html#given-probabilities-1",
    "href": "content/01_journal/01_probability.html#given-probabilities-1",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "3.1 Given probabilities",
    "text": "3.1 Given probabilities\nP_Alarm_given_Faulty_prod &lt;- 0.97 P_Alarm_given_not_Faulty_prod &lt;- 0.01 P_Faulty_prod &lt;- 0.04 P_not_Faulty_prod &lt;- 1 - P_Faulty_prod\n\nP_Alarm &lt;- P_Alarm_given_Faulty_prod * P_Faulty_prod + P_Alarm_given_not_Faulty_prod * P_not_Faulty_prod\n\nP_not_Faulty_prod_given_Alarm &lt;- (P_Alarm_given_not_Faulty_prod * P_not_Faulty_prod) / P_Alarm\n\nP_Faulty_prod_given_Alarm &lt;- (P_Alarm_given_Faulty_prod * P_Faulty_prod) / P_Alarm"
  },
  {
    "objectID": "content/01_journal/01_probability.html#calculate-palarm",
    "href": "content/01_journal/01_probability.html#calculate-palarm",
    "title": "1 Assignment 1",
    "section": "3.2 Calculate P(Alarm)",
    "text": "3.2 Calculate P(Alarm)\nP_Alarm &lt;- P_Alarm_given_Faulty_prod * P_Faulty_prod + P_Alarm_given_not_Faulty_prod * P_not_Faulty_prod"
  },
  {
    "objectID": "content/01_journal/01_probability.html#calculate-pfaulty_prod-alarm-using-bayes-theorem",
    "href": "content/01_journal/01_probability.html#calculate-pfaulty_prod-alarm-using-bayes-theorem",
    "title": "1 Assignment 1",
    "section": "3.2 Calculate P(~Faulty_prod | Alarm) using Bayes’ Theorem",
    "text": "3.2 Calculate P(~Faulty_prod | Alarm) using Bayes’ Theorem\nP_not_Faulty_prod_given_Alarm &lt;- (P_Alarm_given_not_Faulty_prod * P_not_Faulty_prod) / P_Alarm"
  },
  {
    "objectID": "content/01_journal/01_probability.html#calculate-pfaulty_prod-alarm-using-bayes-theorem-1",
    "href": "content/01_journal/01_probability.html#calculate-pfaulty_prod-alarm-using-bayes-theorem-1",
    "title": "1 Assignment 1",
    "section": "3.3 Calculate P(Faulty_prod | Alarm) using Bayes’ Theorem",
    "text": "3.3 Calculate P(Faulty_prod | Alarm) using Bayes’ Theorem\nP_Faulty_prod_given_Alarm &lt;- (P_Alarm_given_Faulty_prod * P_Faulty_prod) / P_Alarm"
  },
  {
    "objectID": "content/01_journal/01_probability.html#print-the-results-2",
    "href": "content/01_journal/01_probability.html#print-the-results-2",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "3.2 Print the results",
    "text": "3.2 Print the results\ncat(“a. P(~Faulty_prod | Alarm):”, P_not_Faulty_prod_given_Alarm, “”) cat(“b. P(Faulty_prod | Alarm):”, P_Faulty_prod_given_Alarm, “”)"
  },
  {
    "objectID": "content/01_journal/01_probability.html#fill-in-the-gaps-in-the-sentence",
    "href": "content/01_journal/01_probability.html#fill-in-the-gaps-in-the-sentence",
    "title": "1 Assignment 1 - Probability Tree",
    "section": "3.3 Fill in the gaps in the sentence",
    "text": "3.3 Fill in the gaps in the sentence\npercentage_not_Faulty_prod_given_Alarm &lt;- round(P_not_Faulty_prod_given_Alarm * 100, 2) percentage_Faulty_prod_given_Alarm &lt;- round(P_Faulty_prod_given_Alarm * 100, 2)\ncat(“These results show that in case the alarm is triggered, there is a possibility of about”, percentage_not_Faulty_prod_given_Alarm, “% that the product is flawless and a probability of”, percentage_Faulty_prod_given_Alarm, “% that the product is faulty.”, “”)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#regression-of-avg_purch-on-card-membership",
    "href": "content/01_journal/07_matching.html#regression-of-avg_purch-on-card-membership",
    "title": "Matching and Subclassification",
    "section": "4.1 Regression of avg_purch on card membership",
    "text": "4.1 Regression of avg_purch on card membership\nsummary(model_naive)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#subclassification-estimator-subclasses-z-0-ancard-z-1",
    "href": "content/01_journal/07_matching.html#subclassification-estimator-subclasses-z-0-ancard-z-1",
    "title": "Matching and Subclassification",
    "section": "4.2 Subclassification estimator (subclasses: Z = 0 ancard Z = 1)",
    "text": "4.2 Subclassification estimator (subclasses: Z = 0 ancard Z = 1)\n\nE(sex, card)\nE_00 &lt;- mean(membership[(membership\\(sex==0 & membership\\)card==0), ]\\(avg_purch) # control men E_10 &lt;- mean(membership[(membership\\)sex==1 & membership\\(card==0), ]\\)avg_purch) # control women E_01 &lt;- mean(membership[(membership\\(sex==0 & membership\\)card==1), ]\\(avg_purch) # treatment men E_11 &lt;- mean(membership[(membership\\)sex==1 & membership\\(card==1), ]\\)avg_purch) # treatment women"
  },
  {
    "objectID": "content/01_journal/07_matching.html#weighted-by-k-proportion-of-femalemale",
    "href": "content/01_journal/07_matching.html#weighted-by-k-proportion-of-femalemale",
    "title": "Matching and Subclassification",
    "section": "4.3 Weighted by K (proportion of female/male)",
    "text": "4.3 Weighted by K (proportion of female/male)\nK &lt;- mean(sex)\nK(E_11-E_10) + (1-K)(E_01 - E_00)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#coarsened-exact-matching-cem",
    "href": "content/01_journal/07_matching.html#coarsened-exact-matching-cem",
    "title": "Matching and Subclassification",
    "section": "5.1 Coarsened Exact Matching (CEM)",
    "text": "5.1 Coarsened Exact Matching (CEM)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#without-specifying-coarsening",
    "href": "content/01_journal/07_matching.html#without-specifying-coarsening",
    "title": "Matching and Subclassification",
    "section": "5.2 Without specifying coarsening",
    "text": "5.2 Without specifying coarsening"
  },
  {
    "objectID": "content/01_journal/07_matching.html#matching",
    "href": "content/01_journal/07_matching.html#matching",
    "title": "Matching and Subclassification",
    "section": "5.3 (1) Matching",
    "text": "5.3 (1) Matching\ncem &lt;- matchit(card ~ age + sex + pre_avg_purch, data = membership, method = ‘cem’, estimand = ‘ATE’)\nsummary(cem) ## Use matched data df_cem &lt;- match.data(cem)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#estimation",
    "href": "content/01_journal/07_matching.html#estimation",
    "title": "Matching and Subclassification",
    "section": "5.4 (2) Estimation",
    "text": "5.4 (2) Estimation\nmodel_cem &lt;- lm(avg_purch ~ card, data = df_cem, weights = weights) summary(model_cem)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#matching-1",
    "href": "content/01_journal/07_matching.html#matching-1",
    "title": "Matching and Subclassification",
    "section": "6.1 (1) Matching",
    "text": "6.1 (1) Matching"
  },
  {
    "objectID": "content/01_journal/07_matching.html#replace-one-to-one-or-one-to-many-matching",
    "href": "content/01_journal/07_matching.html#replace-one-to-one-or-one-to-many-matching",
    "title": "Matching and Subclassification",
    "section": "6.2 replace: one-to-one or one-to-many matching",
    "text": "6.2 replace: one-to-one or one-to-many matching\nnn &lt;- matchit(card ~ sex + age + pre_avg_purch, data = membership, method = “nearest”, # changed distance = “mahalanobis”, # changed replace = T)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#covariate-balance",
    "href": "content/01_journal/07_matching.html#covariate-balance",
    "title": "Matching and Subclassification",
    "section": "6.3 Covariate Balance",
    "text": "6.3 Covariate Balance\nsummary(nn)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#use-matched-data",
    "href": "content/01_journal/07_matching.html#use-matched-data",
    "title": "Matching and Subclassification",
    "section": "6.4 Use matched data",
    "text": "6.4 Use matched data\ndf_nn &lt;- match.data(nn)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#estimation-1",
    "href": "content/01_journal/07_matching.html#estimation-1",
    "title": "Matching and Subclassification",
    "section": "6.5 (2) Estimation",
    "text": "6.5 (2) Estimation\nmodel_nn &lt;- lm(avg_purch ~ card, data = df_nn, weights = weights) summary(model_nn)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#propensity-scores",
    "href": "content/01_journal/07_matching.html#propensity-scores",
    "title": "Matching and Subclassification",
    "section": "7.1 (1) Propensity scores",
    "text": "7.1 (1) Propensity scores\nmodel_prop &lt;- glm(card ~ sex + age + pre_avg_purch, data = membership, family = binomial(link = “logit”)) summary(model_prop)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#add-propensities-to-table",
    "href": "content/01_journal/07_matching.html#add-propensities-to-table",
    "title": "Matching and Subclassification",
    "section": "7.2 Add propensities to table",
    "text": "7.2 Add propensities to table\nmembership_aug &lt;- membership %&gt;% mutate(propensity = predict(model_prop, type = “response”))\n##Extend data by IPW scores membership_ipw &lt;- membership_aug %&gt;% mutate( ipw = (card/propensity) + ((1-card) / (1-propensity)))"
  },
  {
    "objectID": "content/01_journal/07_matching.html#look-at-data-with-ipw-scores",
    "href": "content/01_journal/07_matching.html#look-at-data-with-ipw-scores",
    "title": "Matching and Subclassification",
    "section": "7.3 Look at data with IPW scores",
    "text": "7.3 Look at data with IPW scores\nmembership_ipw %&gt;% select(card, sex, age, pre_avg_purch, propensity, ipw)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#estimation-2",
    "href": "content/01_journal/07_matching.html#estimation-2",
    "title": "Matching and Subclassification",
    "section": "7.4 (2) Estimation",
    "text": "7.4 (2) Estimation\nmodel_ipw &lt;- lm(avg_purch ~ card, data = membership_ipw, weights = ipw) summary(model_ipw)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#plot-histogram-of-estimated-propensities",
    "href": "content/01_journal/07_matching.html#plot-histogram-of-estimated-propensities",
    "title": "Matching and Subclassification",
    "section": "7.5 Plot histogram of estimated propensities",
    "text": "7.5 Plot histogram of estimated propensities\nggplot(membership_aug, aes(x = propensity)) + geom_histogram(alpha = .8, color = “white”)"
  },
  {
    "objectID": "content/01_journal/07_matching.html#looking-for-observations-with-highest-weights",
    "href": "content/01_journal/07_matching.html#looking-for-observations-with-highest-weights",
    "title": "Matching and Subclassification",
    "section": "7.6 Looking for observations with highest weights",
    "text": "7.6 Looking for observations with highest weights\nmembership_ipw %&gt;% dplyr::select(card, sex, age, pre_avg_purch, propensity, ipw) %&gt;% arrange(desc(ipw))"
  },
  {
    "objectID": "content/01_journal/07_matching.html#run-with-high-weights-excluded",
    "href": "content/01_journal/07_matching.html#run-with-high-weights-excluded",
    "title": "Matching and Subclassification",
    "section": "7.7 Run with high weights excluded",
    "text": "7.7 Run with high weights excluded\nmodel_ipw_trim &lt;- lm(avg_purch ~ card, data = membership_ipw %&gt;% filter(propensity %&gt;% between(0.15, 0.85)), weights = ipw) summary(model_ipw_trim)"
  }
]